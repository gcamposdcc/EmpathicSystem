package cl.automind.vote.empathy;

import java.util.ArrayList;
import java.util.List;

import cl.automind.empathy.data.web.WebMetadata;
import cl.automind.empathy.fw.data.web.AbstractWebDataSource;

@WebMetadata(defaultUrl = "http://192.168.0.102:8080", name = EmpathicConstants.DS_CMO_PERFORMANCE_INCREASE)
public abstract class AboveAverageDataSource extends AbstractWebDataSource<Integer>{

	public AboveAverageDataSource(Integer template) {
		super(template);
	}

	@Override
	public String toWebString(Integer value) {
		return ""+value;
	}

	@Override
	public Integer fromWebString(String value) {
		int i = -1;
		try {
			i = Integer.parseInt(value);
		} catch (Exception e){
			e.printStackTrace();
		}
		return i;
	}

	@Override
	public List<Integer> listFromWebString(String value) {
		System.out.println("WebSource:"+getName()+"::Parse:"+value);
		List<Integer> ints = new ArrayList<Integer>();
        String NL = System.getProperty("line.separator");
        String[] lines = value.split(NL);
        for(String line: lines){
        	ints.add(fromWebString(line));
        }
		return ints;
	}
}
