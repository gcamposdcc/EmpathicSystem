package cl.automind.vote.empathy;

import java.util.ArrayList;
import java.util.List;

import cl.automind.empathy.data.web.WebMetadata;
import cl.automind.empathy.fw.data.web.AbstractWebDataSource;

@WebMetadata(defaultUrl = "http://192.168.0.102:8080", name = EmpathicConstants.DS_ABOVE_AVERAGE)
public abstract class AboveAverageDataSource extends AbstractWebDataSource<Boolean>{

	public AboveAverageDataSource(Boolean template) {
		super(template);
	}

	@Override
	public String toWebString(Boolean value) {
		return ""+value;
	}

	@Override
	public Boolean fromWebString(String value) {
		boolean result = false;
		try {
			result = Boolean.parseBoolean(value);
		} catch (Exception e){
			e.printStackTrace();
		}
		return result;
	}

	@Override
	public List<Boolean> listFromWebString(String value) {
		System.out.println("WebSource:"+getName()+"::Parse:"+value);
		List<Boolean> result = new ArrayList<Boolean>();
        String NL = System.getProperty("line.separator");
        String[] lines = value.split(NL);
        for(String line: lines){
        	result.add(fromWebString(line));
        }
		return result;
	}
}
